<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>task24</title>
    <style type="text/css">
        input{width: 200px;height: 24px}
        button{width: 70px;height: 30px}
        #queue{list-style: none}
        #queue li{display: inline;background: indianred;border: 1px solid lightslategrey;margin-right: 15px;
            padding: 10px;color: white;line-height: 50px}
    </style>
</head>
<body>
<input type="text" id="input">
<button type="button" value="左侧入" id="left-in">左侧入</button>
<button type="button" value="右侧入" id="right-in">右侧入</button>
<button type="button" value="左侧出" id="left-out">左侧出</button>
<button type="button" value="右侧出" id="right-out">右侧出</button>

<ul id="queue">
    <li>10</li>
    <li>3</li>
    <li>7</li>
    <li>12</li>
    <li>11</li>
    <li>30</li>
</ul>
    <script type="text/javascript">
        var leftIn = document.getElementById("left-in");
        var rightIn = document.getElementById("right-in");
        var leftOut = document.getElementById("left-out");
        var rightOut = document.getElementById("right-out");
        var queues = document.getElementById("queue");
        var lis = document.getElementsByTagName("li");
        var num = document.getElementById("input");
        function insertNumBefore() {
            if(num.value == ""){
                alert("请输入一个数字");
            }else if(!isNaN(num.value)){
                var addLi = document.createElement('li');
                addLi.innerHTML = num.value;
                queues.insertBefore(addLi,queues.firstChild);
                num.value="";
            }else{
                alert("格式不对，请您重新输入一个数字！");
            }
        }

        function insertNumAfter() {
            if(num.value == ""){
                alert("请输入一个数字");
            }else if(!isNaN(num.value)){
                var addLi = document.createElement('li');
                addLi.innerHTML = num.value;
                queues.appendChild(addLi);
                num.value="";
            }
        }

        function deleteNumBefore() {
            if(confirm("该值为"+lis[0].innerHTML+"你确定要删除吗？")){
                lis[0].remove();
            }else{
                alert("取消删除");
            }
        }
        
        function deleteNumAfter() {
            var lis_len = lis.length;
            if(confirm("该值为"+lis[lis_len-1].innerHTML+"你确定要删除吗？")){
                lis[lis_len-1].remove();
            }else{
                alert("取消删除");
            }
        }
        /*function deleteNumClick() {
            queues.addEventListener("click",function (e) {
                if(event.target.nodeName.toLowerCase()=="li"){
                    queues.removeChild(event.target);
                }
            })
        }*/
        leftIn.addEventListener("click",function () {
            insertNumBefore();
        });
        rightIn.addEventListener("click",function () {
            insertNumAfter();
        });
        leftOut.addEventListener("click",function () {
            deleteNumBefore();
        });
        rightOut.addEventListener("click",function () {
            deleteNumAfter();
        });
        queues.addEventListener("click",function (ev) {
            ev = ev||window.event;
            var target = ev.target || ev.srcElement;
            if(target.nodeName.toLowerCase()=="li"){
                if(confirm("你确定要删除吗？")){
                    queues.removeChild(target);
                }
            }
        });
    </script>
</body>
</html>